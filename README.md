# ДДС Менеджер - Система управления движением денежных средств

Веб-приложение для учета, управления и анализа денежных операций компании или частного лица.

## Возможности

- Создание, редактирование, удаление и просмотр транзакций
- Управление справочниками: статусы, типы, категории, подкатегории
- Динамическая фильтрация подкатегорий в зависимости от выбранной категории
- Фильтрация транзакций по дате, статусу, типу, категориям и сумме
- Валидация данных на стороне клиента и сервера
- Удобный интерфейс на основе Django Admin
- Предзаполненная база данных при помощи ручной [миграции](./dds/migrations/0002_fill_statuses_categories_subcategories.py)

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/Wiltort/dds-manager.git
cd dds-manager
```

### 2. Создание виртуального окружения

```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate     # Windows
```

### 3. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 4. Настройка базы данных

```bash
python manage.py migrate
```

### 5. Создание суперпользователя

```bash
python manage.py createsuperuser
```

### 6. Запуск сервера

```bash
python manage.py runserver
```

Админка: http://127.0.0.1:8000/admin/

## Структура данных

### Модели:
- **Transaction** - денежные транзакции
- **Status** - статусы операций (Бизнес, Личное, Налог)
- **TransactionType** - типы операций (Пополнение, Списание)
- **Category** - категории операций
- **SubCategory** - подкатегории операций

### Поля транзакции:
- Дата создания (автоматически)
- Дата операции
- Статус
- Тип операции
- Категория
- Подкатегория
- Сумма (рубли)
- Комментарий

## Использование

### 1. Управление справочниками
Перейдите в админку → соответствующие разделы:
- Статусы
- Типы операций  
- Категории
- Подкатегории

### 2. Добавление транзакций
- Перейдите в "Транзакции" → "Добавить транзакцию"
- Заполните обязательные поля
- Подкатегории автоматически фильтруются по выбранной категории

### 3. Фильтрация данных
Используйте фильтры в правой панели для:
- Диапазона дат
- Статусов
- Типов операций
- Категорий и подкатегорий
- Сумм

## API Endpoints

- `GET /admin/dds/api/subcategories/?category_id=<id>` - получение подкатегорий для категории

## Структура проекта

```
dds-manager/
├── dds/                     # Основное приложение
│   ├── migrations/         # Миграции базы данных
│   ├── models.py          # Модели данных
│   ├── admin.py           # Настройки админки
│   ├── views.py           # Дополнительные view
│   └── urls.py           # URL-маршруты приложения
├── static/               # Статические файлы
│   └── admin/
│       └── js/
│           └── transaction_admin.js
├── requirements.txt      # Зависимости
└── manage.py           # Управление Django
```